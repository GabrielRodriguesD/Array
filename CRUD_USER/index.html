<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Gabriel Rodrigues">
    <title>Sistema CRUD</title>
</head>
<body>
    <script>
        //CRIAR SISTEMA DE GERENCIAMENTO DE USUARIO
        // `` = literal template


        let arrUser = [];

        function showMenu() {
            parseInt(prompt(`
            *-----MENU-----*            
            [1] - Cadastrar usuário
            [2] - Listar usuário(s)
            [3] - Atualizar usuário
            [4] - Deletar usuário
            [5] - Sair do programa

            `))
            
        }

        //Método de cadastro de usuario => (Verbo http post)
        const addUser = () => {
            const nameUser = prompt("Informe o user da pessoa: ");
            const emailUser = prompt("Informe o email da pessoa: ");
            if (!emailUser || !nameUser) {
            alert("Nome é obrigatório");
                
            }

            //esta mandando as informaçoes armazenadas nas variaveis dentro de ({}) para o ARRAY arUser
            arrUser.push({nameUser, emailUser})
    
            console.log(arrUser);
        }

        addUser();

        const ListUser = () => {
            let listUser;
            arrUser.forEach((dataUser) => {
            listUser +=`
            Nome: ${dataUser.nameUser} Email: ${dataUser.emailUser}`
            });

            console.log(listUser);

            alert("******Lista de Usuarios****" + listUser);

        }

        ListUser();


        //Metodo de Atualizar => (Verbo HTPP: PUT)
        //entre {} é objeto

        function UpdateUserInfo() {
            const findEmail = prompt("Informe o email que voce deseja atualizar!")
            const usuarioEncontrado = arrUser.find(user => user.emailUser === findEmail)
            //FIlters geram novo ARRAY
            //Find não gera novo ARRAY
            console.log(usuarioEncontrado);

            if (usuarioEncontrado) {
                alert("Usuário não foi encontrado")
            return
                
            }

            usuarioEncontrado.nameUser = variavelNova
            usuarioEncontrado.emailUser = variavelNovaEmail

        UpdateUserInfo();
    </script>
</body>
</html>